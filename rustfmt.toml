# .rustfmt.toml â€” Style maison : net, cohÃ©rent, CI-friendly
# ğŸ‘‰ 100 colonnes, imports rangÃ©s, commentaires wrap, et commas traÃ®nantes (diffs propres)

# â€”â€”â€” Base â€”â€”â€”
edition = "2021"
max_width = 100
hard_tabs = false
tab_spaces = 4
newline_style = "Unix"
use_small_heuristics = "Max"   # place le plus possible sur une ligne (sans casser la lisibilitÃ©)

# â€”â€”â€” Imports & modules â€”â€”â€”
reorder_imports = true
imports_granularity = "Crate"      # "Module" si tu veux regrouper par module, "Item" pour le plus fin
group_imports = "StdExternalCrate" # std | extern | crate/local
reorder_modules = true

# â€”â€”â€” Commentaires & docs â€”â€”â€”
wrap_comments = true
comment_width = 100
format_code_in_doc_comments = true
normalize_doc_attributes = true

# â€”â€”â€” Macros â€”â€”â€”
format_macro_bodies = true
format_macro_matchers = true

# â€”â€”â€” Virgules, pipes & opÃ©rateurs â€”â€”â€”
trailing_comma = "Vertical"      # moins de diffs quand on ajoute des Ã©lÃ©ments
match_block_trailing_comma = true
match_arm_leading_pipes = "Always"
binop_separator = "Front"        # opÃ©rateurs en dÃ©but de ligne sur les expressions longues

# â€”â€”â€” Blancs â€”â€”â€”
blank_lines_upper_bound = 2
blank_lines_lower_bound = 0

# â€”â€”â€” LittÃ©raux & espaces â€”â€”â€”
hex_literal_case = "Lower"
spaces_around_ranges = false

# â€”â€”â€” Alignements (garder sobre) â€”â€”â€”
struct_field_align_threshold = 0
enum_discrim_align_threshold = 0

# â€”â€”â€” Largeurs fines (aide rustfmt pour les dÃ©coupes) â€”â€”â€”
array_width = 80
attr_fn_like_width = 70
chain_width = 80
fn_call_width = 80
single_line_if_else_max_width = 50
single_line_let_else_max_width = 50
struct_lit_width = 40
struct_variant_width = 40

# â€”â€”â€” Choix assumÃ©s â€”â€”â€”
# On Ã©vite d'aplatir de force : lisibilitÃ© > â€œtout sur une ligneâ€
fn_single_line = false
